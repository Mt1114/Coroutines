# 项目概述
本项目是对sylar服务器框架的改编和简化，专注于协程库的部分。通过引入协程、调度器和定时器等核心模块，利用HOOK技术将Linux系统中的传统同步函数（如 `sleep`、`read`、`write` 等）转化为异步版本。此改造允许保持同步I/O的编程方式，同时享受异步执行的效率和响应速度提升。

## 运行环境

Ubuntu 24.04 LTS

## 编译指令

首先进入文件所在目录

`g++ *.cpp -std=c++17 -o test`

## 运行模块测试用例
首先进入文件所在目录

`./test`

## 压力测试
简单的单线程echo服务器

`ab -n 1000000 -c 1000 -k  http://127.0.0.1:8888/`

* test_fiber 使用本协程库
* test_epoll 使用原生epoll
* test_fiber 使用libevent

## 主要模块介绍

### 协程类
* 使用非对称的独立栈协程。
* 支持调度协程与任务协程之间的高效切换。

### 调度器
* 结合线程池和任务队列维护任务。
* 工作线程采用FIFO策略运行协程任务，并负责将epoll中就绪的文件描述符事件和超时任务加入队列。

### 定时器
* 利用最小堆算法管理定时器，优化超时回调函数的获取效率。

### I/O调度器（Asynchronous I/O）
应用程序可以在I/O操作执行过程中继续执行其他代码，I/O操作通过事件回调机制完成通知。

### HOOK技术
对系统底层函数进行封装，增强功能且保持原有调用接口的兼容性，使函数在保持原有调用方式的同时，增加新的功能实现。

